(()=>{"use strict";var e={156:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function d(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,d)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(300),a=document.querySelector("#event-name"),o=document.querySelector("#progress-bar"),d=document.querySelector("#raised-text"),s=document.querySelector("#goal-text"),u=document.querySelector("#percent-text");i(void 0,void 0,void 0,(function*(){const e=new URLSearchParams(window.location.search),t=e.get("app_id"),n=e.get("fundraiser_slug");t&&n||(document.body.innerText=`Missing url parameters: ${t?"":"app_id"} ${n?"":"fundraiser_slug"}`),(0,r.set_app_id)(t);const i=yield(0,r.get_fundraiser_details)(n);a.innerText=i.eventName,o.value=i.grandTotalRaisedExcludingGiftAid,o.max=i.fundraisingTarget;const c=i.grandTotalRaisedExcludingGiftAid/i.fundraisingTarget*100;d.innerText=`${i.currencySymbol}${i.grandTotalRaisedExcludingGiftAid}`,s.innerText=`${i.currencySymbol}${i.fundraisingTarget}`,u.innerText=`${c.toFixed(1)}`}))},300:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function d(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,d)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.get_fundraiser_details=t.get_default_headers=t.from_api_base=t.set_app_id=void 0;let i="";t.set_app_id=e=>{i=e},t.from_api_base=e=>{if(""===i)throw new Error("app_id not set");return`https://api.justgiving.com/${i}/${e}`},t.get_default_headers=()=>({"Content-Type":"application/json",Accept:"application/json"}),t.get_fundraiser_details=e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch((0,t.from_api_base)(`v1/fundraising/pages/${e}`),{headers:(0,t.get_default_headers)()}),i=yield n.json();return i.fundraisingTarget=parseFloat(i.fundraisingTarget),i.grandTotalRaisedExcludingGiftAid=parseFloat(i.grandTotalRaisedExcludingGiftAid),i}))}},t={};!function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}(156)})();